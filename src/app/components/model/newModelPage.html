<!-- <div class="content-box">
  <form name="$ctrl.form" class="editable-form">

    <div class="row header">
      <div class="col-12">
        <h2>
          <span>{{'Add new ' + $ctrl.type | translate}}</span>
        </h2>
      </div>
    </div>

    <fieldset ng-disabled="$ctrl.persisting">

      <div class="top-actions">
        <button id="cancel_new_model_button"
                type="button"
                class="btn btn-link pull-right cancel"
                ng-click="$ctrl.cancel()">
          <span translate>Cancel</span>
        </button>

        <button id="save_new_model_button"
                type="button"
                class="btn btn-action pull-right save"
                ng-click="$ctrl.save()"
                ng-disabled="!$ctrl.isValid() || $ctrl.form.$pending">
          <span translate>Save</span>
        </button>
      </div>

      <div class="row">
        <div class="col-lg-5">

          <editable data-title="{{$ctrl.type + ' label' | capitalize}}" context="$ctrl.context" autofocus>
            <input id="modelLabel" class="form-control" type="text" autocomplete="off" required ng-model="$ctrl.label" />
          </editable>

          <editable data-title="Description" context="$ctrl.context">
            <textarea id="modelComment" class="form-control" autocomplete="off" ng-model="$ctrl.comment"></textarea>
          </editable>

          <editable-multiple-language-select data-title="Model languages" id="modelLanguage" ng-model="$ctrl.languages" required="true"></editable-multiple-language-select>

          <editable data-title="Prefix" context="$ctrl.context">
            <input id="modelPrefix" class="form-control" type="text" prefix-input
                   reserved-prefixes-getter="$ctrl.importedPrefixes"
                   is-model-prefix='true'
                   ng-model="$ctrl.prefix"
                   autocomplete="off"
                   required />
          </editable>

          <app-use-context-input ng-model="$ctrl.useContext" [editing]="true" [model-type]="$ctrl.type"></app-use-context-input>

          <editable data-title="Contact label" context="$ctrl.context">
            <p translate>Please note that the content of this field is public. Don't use personal contact information!</p>
            <textarea id="modelContact" class="form-control" autocomplete="off" ng-model="$ctrl.contact"></textarea>
          </editable>
        </div>

        <div class="col-lg-6 offset-lg-1">
          <classifications-view value="$ctrl" required="true"></classifications-view>
          <contributors-view value="$ctrl" context="$ctrl.context" required="true"></contributors-view>
          <vocabularies-view value="$ctrl" context="$ctrl.context"></vocabularies-view>
          <reference-datas-view value="$ctrl" context="$ctrl.context"></reference-datas-view>
          <imported-namespaces-view value="$ctrl"
                                    context="$ctrl.context"
                                    allow-profiles="$ctrl.allowProfiles"
                                    namespaces-in-Use="$ctrl.namespacesInUse"
                                    model-prefix="$ctrl.prefix || ''"></imported-namespaces-view>
          <links-view value="$ctrl" context="$ctrl.context"></links-view>
        </div>
      </div>

    </fieldset>
  </form>
</div> -->

<div class="content-box">
  <form #form="ngForm" class="editable-form">

    <div class="row header">
      <div class="col-12">
        <h2>
          <span>{{'Add new ' + type | translate}}</span>
        </h2>
      </div>
    </div>

    <fieldset [disabled]="persisting">

      <div class="top-actions">
        <button id="cancel_new_model_button"
                type="button"
                class="btn btn-link pull-right cancel"
                (click)="cancel()">
          <span translate>Cancel</span>
        </button>

        <button id="save_new_model_button"
                type="button"
                class="btn btn-action pull-right save"
                (click)="save()"
                [disabled]="!isValid() || form.pending">
          <span translate>Save</span>
        </button>
      </div>

      <div class="row">
        <div class="col-lg-5">

          <editable title="{{type + ' label' | capitalize}}" [context]="context" autofocus [form]="form">
            <input id="modelLabel" class="form-control" type="text" autocomplete="off" bootstrapInput required [(ngModel)]="label" name="label" #editableInput/>
          </editable>

          <editable title="Description" [context]="context" [form]="form">
            <textarea id="modelComment" class="form-control" autocomplete="off" [(ngModel)]="comment" name="comment" #editableInput></textarea>
          </editable>

          {{languages | json}}
          <editable-multiple-language-select
            title="Model languages"
            id="modelLanguage"
            [languages]="languages"
            [form]="form"

            required="true">
          </editable-multiple-language-select>

          <editable title="Prefix" [context]="context" [form]="form">
            <input id="modelPrefix" class="form-control" type="text" prefixInput prefixInputAsync
                   [reservedPrefixesGetter]="importedPrefixes"
                   [isModelPrefix]="true"
                   [(ngModel)]="prefix"
                   name="prefix"
                   autocomplete="off"
                   required
                   bootstrapInput
                   #editableInput />
          </editable>

          <app-use-context-input [(ngModel)]="useContext" [editing]="true" [modelType]="type" [ngModelOptions]="{standalone: true}"></app-use-context-input>

          <editable title="Contact label" [context]="context" [form]="form">
            <p translate>Please note that the content of this field is public. Don't use personal contact information!</p>
            <textarea id="modelContact" class="form-control" autocomplete="off" [(ngModel)]="contact" name="contact" #editableInput></textarea>
          </editable>
        </div>

        <div class="col-lg-6 offset-lg-1">
          <classifications-view [value]="this" required="true" [form]="form"></classifications-view>
          <contributors-view [value]="this" [context]="context" required="true" [form]="form"></contributors-view>
          <vocabularies-view [value]="this" [context]="context" [form]="form"></vocabularies-view>
          <reference-datas-view [value]="this" [context]="context" [form]="form"></reference-datas-view>
          <imported-namespaces-view [value]="this"
                                    [context]="context"
                                    [allowProfiles]="allowProfiles"
                                    [namespacesInUse]="namespacesInUse"
                                    [modelPrefix]="prefix || ''"
                                    [form]="form"></imported-namespaces-view>
          <links-view [value]="this" [context]="context" [form]="form"></links-view>
        </div>
      </div>

    </fieldset>
  </form>
</div>
